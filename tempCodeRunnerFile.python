import openai

# Set your OpenAI API key
openai.api_key = "your_openai_api_key"

def legal_chatbot():
    print("Welcome to the Legal Chatbot!")
    print("Type 'exit' to end the conversation.\n")

    # Context for the chatbot
    context = (
        "You are a highly knowledgeable legal assistant. "
        "Answer user questions accurately, concisely, and politely. "
        "You are trained to provide general legal information and cannot offer specific legal advice."
    )

    while True:
        # Get user input
        user_input = input("You: ")
        
        if user_input.lower() in ["exit", "quit"]:
            print("Chatbot: Thank you for using the Legal Chatbot. Goodbye!")
            break

        try:
            # Send the user's input to the OpenAI model
            response = openai.ChatCompletion.create(
                model="gpt-3.5-turbo",
                messages=[
                    {"role": "system", "content": context},
                    {"role": "user", "content": user_input},
                ],
                temperature=0.7,
                max_tokens=500,
            )
            # Extract and print the chatbot's response
            bot_reply = response['choices'][0]['message']['content']
            print(f"Chatbot: {bot_reply}")
        except Exception as e:
            print("Chatbot: Sorry, an error occurred. Please try again.")
            print(f"Error: {e}")

if __name__ == "__main__":
    legal_chatbot()
